## EBFT: The Simplest BFT Consensus Framework

EBFT is an egalitarian BFT consensus framework that aims for the simplicity of Nakamoto Consensus (NC) while retaining the finality guarantees of classic BFT protocols. It achieves this by combining the best of both worlds: the longest chain rule from NC and quorum voting from BFT.

EBFT consists of two protocols:

- **EBFT-Syn:** For synchronous networks.
- **EBFT-PSyn:** For partially synchronous networks.

Due to its simplicity, EBFT can be implemented on top of any Nakamoto-style blockchain with minimal modifications (hundreds of lines of code).

### Design Principles

Both EBFT-Syn and EBFT-PSyn adhere to the **Longest Certified Chain Rule (LCCR)** for voting and proposing blocks. This rule ensures that all nodes prioritize the longest chain of certified blocks.

### Preliminaries

- **Block:** A block is represented as a tuple <Txs, h_p, QC, ρ, meta>:

  - Txs: Collection of transactions.
  - h_p: Hash of the parent block.
  - QC: Quorum certificate of the parent block.
  - ρ: Winning proof of the lottery for block creation.
  - meta: Necessary metadata.

- **Vote:** A vote v for block B is a tuple <h, pk, σ>:

  - h: Hash of the block B.
  - pk: Public key of the voting node.
  - σ: Signature generated by the node.

  A quorum certificate (QC) for block B is formed when there are at least f+1 (for EBFT-Syn) or 2f+1 (for EBFT-PSyn) signatures on it. A certified block is one that has a QC.

- **Block Tree:** Each node maintains a block tree (blockTree) of all received blocks. Certified blocks are ranked by height, with the highest certified block being the one with the largest height in the local blockTree.

### EBFT-Syn

EBFT-Syn is a synchronous BFT protocol designed for networks where there is a known upper bound Δ for message delivery time. It operates with the assumption that a minority of nodes (f out of 2f+1) are Byzantine.

**Rules:**

1. **Block Proposing:** Nodes participate in a cryptographic lottery (similar to PoW and PoS blockchains) to win the right to propose blocks. The winning node proposes a block extending the longest path in the certified block tree.
2. **Block Voting:** Honest nodes vote for valid blocks that extend the longest path. They broadcast their votes and the corresponding blocks to other nodes. A 3Δ timer is set for each block. If a block is certified, it is added to the block tree.
3. **Block Committing:** If a block's timer expires and the node hasn't received any conflicting blocks, it commits that block and all its uncommitted ancestors.

### EBFT-PSyn

EBFT-PSyn is a partially synchronous BFT protocol that works in networks where one-third of nodes (f out of 3f+1) are Byzantine. It uses the same block proposing rule as EBFT-Syn.

**Differences from EBFT-Syn:**

- **Voting Types:** EBFT-PSyn has two vote types:
  - **comVote (Commit Vote):** Sent when the parent block is uniquely certified.
  - **witVote (Witness Vote):** Sent when the parent block is not uniquely certified.
- **Certification:** A block is certified when it receives at least 2f+1 votes, regardless of the vote type.
- **Block Committing:** A block with at least 2f+1 comVotes commits all non-committed ancestor blocks (excluding itself).

### Summary

EBFT is a simple and elegant BFT consensus framework that offers finality guarantees similar to classic BFT protocols. It achieves this by leveraging the best of both the Nakamoto Consensus (longest chain rule) and classical BFT (quorum voting). Its simplicity makes it easily adaptable to existing Nakamoto-style blockchains.

add_circle
